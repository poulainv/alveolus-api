<div ng-include src="'fragment/header-carousel.html'"></div>
<!-- mainWrapper has a static height, preventing the page to shrink when we hide the content -->
<div id="mainWrapper">
	<!-- contentWrapper can be hidden -->
	<div id="contentWrapper">
		<div id="homeBody" class="container">
			<div class="row-fluid">
				<h3 class="span6 offset1"><img src="img/picto/picto-selection-green-big.svg"> Sélection de l'équipe - {{catSelected.name}} :</h3>
				<button id="btnMore" class="btn btn-inverse span4" type="button" ng-click="changeView('alveoles')">{{catSelected.name}} : Voir toutes les alvéoles > </button>
			</div>
			<div class="row-fluid">
				<div class="span2 offset1">
					<div id="catList">
						<span ng-repeat="cat in categories" ng-mouseover="descCatSelected = cat.description" ng-click="changeCat(cat)" ng-class="itemClass(cat)" class="btnCat" tooltip-placement="top" tooltip="{{descCatSelected}}" tooltip-popup-delay='300' tooltip-trigger="mouseenter"> 
							{{cat.name}}
						</span>
					</div>
				</div>

				<div class="span8">
					<br>
					<div id="appFeatured" class="row-fluid">
						<div class="span4">
							<a href="#/alveoles/{{appFeatured.id}}"><img id="logoTeamSelection" class="rounded" ng-src="{{appFeatured | image}}" title="{{appFeatured.title}}" alt="{{appFeatured.title}}"></a>
						</div>
						<div id="appFeaturedDescWrapper" class="span8">

							<div class="row-fluid">
								<div class="span7">
									<h2><a href="#/alveoles/{{appFeatured.id}}">{{appFeatured.title}}</a></h2>
								</div>
								<div class="span5">
									<i class="{{ {'rate':appFeatured.average_rate, 'index':$index} | star}} icon-large"  ng-repeat="n in [] | range:5"></i>
									({{appFeatured.nb_comments}} avis)
								</div>

							</div>

							<div class="row-fluid" id="descFeaturedApp">
								<div class="span12">
									{{appFeatured.description | truncate:500}}
								</div>
							</div>

							<div class="row-fluid"  style="margin-top:2%;">
								<div class="span12">
									<img src="img/icon/icon-tags.svg">
									<span ng-repeat="tag in appFeatured.tags">
										<a href="#/alveoles/search/{{tag.name}}" class="tag">{{tag.name}}</a> 
									</span>
								</div>
							</div>
						</div>
					</div>
					<br>
				</div>
			</div>
		</div>

		<!-- <div class="separator span11"></div> -->
		<div id="popularAppsWrapper">
			<div class="container">

				<div class="row-fluid">
					<div class="span6 offset1">
						<h3><img src="img/icon/icon-hot-green.svg">  Alvéoles populaires </h3>
					</div>
				</div>
				<div class="row-fluid">
					<div class="span12">
						<div class="row-fluid">
							<carousel>
								<slide ng-repeat="slide in slidesPopular" active="img.active" class="row-fluid">
									<section class="span10 offset1">
										<div class="row-fluid">	
											<article class="alveole span3" ng-repeat="alveole in slide">
												<header class="alveoleHeader">Vu : {{alveole.nb_click_detail}} fois
													<span class="alveoleRatingWrapper">
														<i class="{{ {'rate':alveole.average_rate, 'index':$index} | star}} icon-large"  ng-repeat="n in [] | range:5"></i> ({{alveole.nb_comments}})
													</span>
												</header>
												<div class="alveoleContent">
													<a href="#/alveoles/{{alveole.id}}">
														<div class="cropedImg">
															<img class="alveoleImg" ng-src="{{alveole | image}}"  alt="{{alveole.title}}">
														</div>
														<hr/>
														<h4 class="alveoleName">
															<strong>{{alveole.title}}</strong>
														</h4>
														<p class="alveoleDesc">
															{{alveole.caption}}
														</p>
													</a>
													<div class="alveoleTagsWrapper">
														<img src="img/icon/icon-tags.svg" ng-show="alveole.tags">
														<span ng-repeat="tag in alveole.tags" ng-click="search(tag.name)" class="tag">
															<a href="#/alveoles/search/{{tag.name}}" class="tag">{{tag.name}}</a>
														</span>
													</div>

												</div>
											</article>
										</div>
									</section>
								</slide>
							</carousel>
						</div>

					</div>


				</div>
			</div>
		</div>

		<div id="">
			<div class="container">

				<div class="row-fluid">
					<div class="span6 offset1">
						<h3><img src="img/icon/icon-hot-green.svg">  Dernières alvéoles</h3>
					</div>
				</div>
				<div class="row-fluid">
					<div class="span12">
						<div class="row-fluid">
							<carousel>
								<slide ng-repeat="slide in slidesRecent" active="img.active" class="row-fluid">
									<section class="span10 offset1">
										<div class="row-fluid">	
											<article class="alveole span3" ng-repeat="alveole in slide">
												<header class="alveoleHeader">Vu : {{alveole.nb_click_detail}} fois
													<span class="alveoleRatingWrapper">
														<i class="{{ {'rate':alveole.average_rate, 'index':$index} | star}} icon-large"  ng-repeat="n in [] | range:5"></i> ({{alveole.nb_comments}})
													</span>
												</header>
												<div class="alveoleContent">
													<a href="#/alveoles/{{alveole.id}}">
														<div class="cropedImg">
															<img class="alveoleImg" ng-src="{{alveole | image}}"  alt="{{alveole.title}}">
														</div>
														<hr/>
														<h4 class="alveoleName">
															<strong>{{alveole.title}}</strong>
														</h4>
														<p class="alveoleDesc">
															{{alveole.caption}}
														</p>
													</a>
													<div class="alveoleTagsWrapper">
														<img src="img/icon/icon-tags.svg" ng-show="alveole.tags">
														<span ng-repeat="tag in alveole.tags" ng-click="search(tag.name)" class="tag">
															<a href="#/alveoles/search/{{tag.name}}" class="tag">{{tag.name}}</a>
														</span>
													</div>

												</div>
											</article>
										</div>
									</section>
								</slide>
							</carousel>
						</div>

					</div>


				</div>
			</div>
		</div>


	</div>
</div>
